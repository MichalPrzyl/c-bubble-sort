#include <stdio.h>
#include <stdbool.h>


void print_list(int *pa, size_t length){
    printf("Elements in list: ");
    for(int i = 0; i < length; i++){
        printf("%i, ", *(pa+i));
    }
    printf("\n");
}

void swap(int *px, int *py){
    int tmp;

    tmp = *px;
    *px = *py;
    *py = tmp;
}

void bubble_sort(int *pa, size_t a_length){
    bool is_ok = false;
    int repeated_counter = 0;
    while(!is_ok){
        repeated_counter++; 
        is_ok = true;

        for (int i = 0; i < a_length - 1; i++){
            printf("\033[0;32m%i iteration\n\033[0;37m", i);
            printf("Comparing %i with %i\n", *(pa+i), *((pa+i)+1));
            if (*(pa+i) > *(pa+i+1)){
                swap(pa+i, pa+i+1);
                printf("\033[0;33mSwapping!!!!\n\033[0;37m");
                is_ok=false;
            }
            printf("=======================\n"); 
        }
    }
    printf("Whole list were repeated %i times\n", repeated_counter);
}

int main()
{

    int list[] = {1516, 3450, 4401, 4628, 2912, 2272, 116, 4727, 3226, 2778, 1479, 3380, 4642, 888, 
                2620, 2997, 1908, 1272, 4566, 1883, 3431, 1881, 3987, 2164, 4399, 367, 4980, 3305, 
                3358, 1734, 4707, 2314, 3863, 2519, 3199, 4030, 259, 575, 1013, 3264, 2457, 4134, 
                2896, 1469, 1357, 4838, 1637, 3304, 478, 1018, 972, 4700, 4968, 3674, 2726, 1042, 
                4153, 4368, 1999, 4133, 1965, 497, 416, 2135, 76, 4955, 1985, 989, 2170, 866, 978, 
                246, 4938, 2113, 277, 2381, 377, 834, 3605, 1563, 2414, 2570, 4410, 1567, 534, 1483, 
                1435, 3901, 1980, 3574, 57, 2480, 2895, 49, 55, 3934, 1223, 1877, 258, 1050, 4970, 
                1293, 3924, 2020, 4096, 1944, 3988, 1296, 1818, 600, 61, 2638, 3698, 3290, 3416, 1203, 
                25, 3537, 4770, 4968, 3402, 2112, 351, 227, 3282, 1060, 2408, 531, 4913, 2497, 4419, 
                935, 3586, 3321, 833, 1566, 3464, 506, 3622, 4752, 3059, 4436, 266, 3419, 3057, 1618, 
                567, 3019, 4853, 989, 1430, 4682, 1243, 4541, 4467, 2885, 1183, 2693, 7, 878, 4409, 
                3717, 3756, 2475, 3889, 3391, 3991, 450, 1161, 2918, 4550, 4107, 4471, 4327, 4722, 
                4787, 2609, 4694, 2110, 573, 613, 3228, 4488, 4781, 2276, 3235, 270, 1600, 1360, 502, 
                44, 3886, 1822, 2049, 3271, 944, 1235, 2276, 1648, 2633, 3233, 2990, 3839, 3500, 3686,
                586, 3750, 1604, 37, 499, 2635, 2737, 2688, 3452, 1150, 311, 1338, 921, 1761, 1935, 
                336, 4836, 1310, 3743, 3471, 2468, 2466, 4416, 2761, 4147, 209, 3715, 4836, 2773, 
                2346, 595, 3932, 437, 2454, 4566, 1703, 1724, 3880, 1506, 2745, 4523, 4599, 4401, 
                3709, 3521, 3891, 2135, 4375, 3685, 4295, 3187, 1790, 3340, 2681, 3846, 3542, 1105, 
                4965, 4504, 1421, 714, 1927, 3975, 3159, 982, 3607, 3432, 3646, 3553, 1483, 3552, 
                183, 4488, 2509, 1321, 960, 4072, 4319, 4243, 3621, 1078, 536, 205, 4094, 1854, 
                4520, 7, 2246, 4427, 355, 330, 2424, 1078, 1139, 2467, 4439, 2548, 908, 3581, 1660, 
                1813, 4906, 526, 3903, 3120, 2534, 3049, 2153, 1503, 2324, 3320, 4646, 3371, 4961, 
                184, 2032, 2144, 3263, 2342, 3237, 2309, 2411, 2887, 4308, 2016, 1362, 2805, 3598, 
                493, 2030, 479, 1230, 3096, 2030, 86, 1387, 984, 142, 1873, 211, 855, 1926, 4548, 
                4969, 1159, 2047, 2945, 2005, 2632, 515, 2314, 4891, 3295, 2557, 1004, 4728, 309, 
                2674, 4244, 924, 4937, 3944, 2854, 1178, 236, 498, 1233, 4151, 3027, 3944, 3422, 
                3013, 2104, 1164, 1001, 1192, 1508, 47, 3158, 2101, 299, 620, 2935, 3535, 3972, 
                4327, 1774, 854, 3165, 14, 217, 3456, 1088, 3360, 4528, 2736, 2303, 2365, 4964, 
                1072, 4522, 1598, 2919, 1956, 408, 2240, 2524, 3632, 3169, 846, 283, 3586, 1939, 
                2429, 3859, 1620, 1735, 1986, 317, 3364, 4290, 2788, 786, 3089, 3951, 4754, 75, 
                1529, 682, 3575, 2132, 757, 1121, 1575, 4685, 4287, 3290, 4104, 4195, 4296, 4916, 
                3814, 3838, 3677, 3406, 744, 14, 1988, 3412, 4934, 3602, 4628, 4737, 2556, 4791, 
                130, 3664, 2213, 484, 1994, 4059, 3186, 2013, 1313, 2013, 2905, 3579, 447, 257, 
                4893, 2832, 1207, 3472, 2401, 408, 377, 1982, 4051, 2892, 1475, 2738, 1973, 16, 
                3925, 597, 3167, 52, 4274, 1410, 1220, 722, 1832, 915, 1427, 4016, 1105, 400, 673, 
                3784, 4745, 3358, 2079, 1448, 1670, 2663, 1099, 4496, 3434, 1836, 4685, 3185, 4703, 
                2370, 673, 1776, 2956, 3320, 3597, 1942, 2920, 1353, 1550, 732, 3385, 84, 1102, 
                1546, 3435, 1909, 1997, 4645, 3742, 4445, 4626, 90, 648, 1455, 4350, 2924, 728, 
                680, 3271, 2653, 4175, 1825, 1898, 3050, 1744, 3378, 3826, 3421, 4385, 1587, 3931, 
                4383, 2367, 4804, 3009, 1770, 4030, 1902, 1486, 2140, 4096, 250, 1582, 3241, 528, 
                2740, 1456, 1011, 2137, 2951, 175, 1380, 2240, 3167, 501, 4503, 485, 3805, 4557, 
                3756, 2853, 1747, 4183, 4650, 3024, 1911, 445, 3804, 4634, 1218, 3312, 3889, 3924, 
                2363, 4688, 407, 1966, 2774, 1793, 902, 4917, 1003, 4891, 1314, 4423, 2462, 1709, 
                1406, 3598, 3051, 1681, 4594, 4008, 4603, 4236, 4490, 2368, 1867, 1367, 200, 146, 
                637, 2327, 2685, 1164, 4766, 940, 671, 1505, 3320, 4855, 4072, 4638, 3057, 541, 
                4635, 2521, 2294, 4752, 1761, 2296, 3954, 2364, 258, 2346, 827, 1706, 2740, 2311, 
                1066, 1083, 2727, 2044, 4855, 1390, 1039, 50, 3559, 3888, 492, 2517, 1762, 2454, 
                411, 4273, 2328, 4147, 394, 1080, 4487, 1825, 3882, 2545, 4187, 1078, 2176, 3913, 
                1317, 2526, 1276, 582, 2863, 4861, 1081, 1280, 1852, 3237, 1012, 432, 552, 4437, 
                2834, 1309, 4974, 2268, 1697, 2871, 2713, 576, 444, 3535, 2837, 3113, 4632, 3344, 
                4712, 1058, 3159, 3324, 4233, 3079, 3026, 2269, 2965, 1919, 4464, 1530, 4968, 2324, 
                2079, 1667, 4393, 4210, 270, 1265, 588, 1086, 2410, 1499, 3537, 2973, 4405, 3543, 
                316, 2317, 4176, 889, 1391, 1120, 2580, 3923, 3078, 3478, 1822, 2996, 180, 3937, 
                1255, 4486, 3434, 2530, 1500, 2830, 1813, 3372, 4217, 3996, 2639, 3316, 4889, 
                3042, 2757, 4700, 4810, 2896, 3748, 3897, 372, 2366, 4314, 4479, 4544, 2939, 212, 
                2184, 4113, 450, 4552, 3089, 3093, 733, 4327, 2198, 2358, 2267, 849, 1221, 134, 
                142, 3865, 2965, 99, 2698, 3626, 1112, 2533, 4869, 1849, 3360, 478, 3831, 2497, 
                4929, 4659, 1740, 1417, 4162, 1799, 2560, 1966, 3123, 463, 1883, 4472, 4813, 4699, 
                656, 4260, 1860, 2903, 348, 3810, 1662, 1697, 3989, 1793, 139, 4791, 4604, 2601, 
                3881, 4133, 1020, 2843, 4479, 1867, 723, 159, 2962, 3466, 4733, 3942, 546, 4649, 
                1440, 2261, 3757, 2491, 1609, 4190, 2785, 4990, 4373, 3052, 3232, 1117, 1090, 
                2161, 542, 1634, 1049, 2237, 1743, 2963, 1848, 4494, 453, 2140, 3126, 2621, 4733, 
                1754, 1203, 2014, 3304, 3576, 4482, 1278, 2372, 468, 169, 4881, 4036, 3229, 1003, 
                92, 185, 2307, 4921, 2261, 1441, 773, 506, 3893, 2218, 4645, 1178, 2229, 3519, 
                4671, 902, 2583, 1517, 125, 611, 4281, 4924, 4804, 620, 3882, 3084, 2859, 69, 
                4103, 1017, 3018, 3761, 4471, 4530, 2171, 3623, 1300, 2992, 3527, 939, 1418, 3467, 
                1069, 1895, 2486, 315, 2339, 1972, 3565, 3585, 4550, 3841, 190, 115, 193, 1826, 34, 
                3116, 4982, 4209, 196, 2688, 3025, 4228, 283, 4368, 2067, 3212, 3150, 1675, 2476, 
                1474, 4114, 4501, 93, 1072, 4288, 4217, 4857, 3009, 516, 2531, 3129, 2192, 4321, 
                3391, 409, 2319, 3770, 1284, 3914, 810, 4257, 4189, 3073, 3752, 2669, 1086, 485, 
                2981, 1369, 2011, 1920, 2336, 4491, 2819, 410};

    
    size_t list_size = (sizeof(list) / sizeof(list[0]));
    print_list(list, list_size);
    // bubble sorting
    bubble_sort(&list[0], list_size); 
    
    // printing again
    puts("\n===========\nAfter swapping");
    print_list(list, list_size);
 }
